# Проектирование высоконагруженного пространства для командной работы
Курсовая работа в рамках 3-го семестра программы по Веб-разработке ОЦ VK x МГТУ им. Н.Э. Баумана (ex. "Технопарк") по дисциплине "Проектирование высоконагруженных сервисов"

__Автор__ - [AlfaIV](https://github.com/alfaiv)</br>
__Задание__ - [Методические указания](https://github.com/init/highload/blob/main/homework_architecture.md)

## Содержание:
 - [1. Функционал и продуктовые метрики](#chapter-one)
 - [2. Расчет нагрузски](#chapter-two)
 - [Используемые источники](#sorce)



 
<a id="chapter-one"></a>

## 1. Функционал и продуктовые метрики
__Функциональные возможности__ - это поисковая система. Она позволяет пользователям искать информацию в интернете, включая веб-страницы, изображения, видео, новости и другие типы контента.

__Целевая аудитория__ - в результате исследования данной темы, конкретного количества пользователей поисковый системы Яндекс не было найдено. Поэтому использовалась следующая логика. В основном аудитория данного сервиса - _русскоязычные пользователи интернета_ - рунет. [Согласно статистике](https://www.web-canape.ru/business/statistika-interneta-i-socsetej-na-2023-god-cifry-i-trendy-v-mire-i-v-rossii/) в России 127.6 миллионов пользователей Интернета. Согласно сервису [Яндекс Радар](https://radar.yandex.ru/search?period=all&selected_rows=iHMJ0E%252CvDPqTi%252C8fg2y0%252Ctmkupd%252CMCj1FA) пользователи Яндекса составляют 64.25% от общего числа пользователей поисковых систем. Таким образом, можно предположить, что количество пользователей состовляет ``127.6E6*0.64 = 76E6``.</br>
Для определения метрик DAU и MAU возьмем данные с сайта [Be1.ru](https://be1.ru/stat/ya.ru) и [SpyMetrics](https://spymetrics.ru/ru/website/ya.ru). Согласно этим ресурсам, количество пользователей этого ресурса за месяц составляет ~ 500M. Соответственно среднее количество пользователей в день 500M/30 ~ 16,6M. Таким образом, имеем следующие метрики:
* количество пользователей ~ 81,66M
* MAU ~ 500M
* DAU ~ 16,6M

__Ключевой функционал__

* Регистрация и аторизация
* Поиск веб-страниц
* Поиск фото
* История поиска


<a id="chapter-two"></a>

## 2. Расчет нагрузки

__Продуктовые метрики__

Среднее количество действий пользователя можно оценить следующим образом. Т.к. данный сервис представляет собой поисковую систему, то вероятнее всего, что в общем случае сценарий использования сервиса следующий: пользователей заходит на главную поисковую страницу, набирает запрос и пользуется пагинатором. Согласно [5] страниц за визит 5,8 значит 3-4 перехода пользователь проводит за сеанс использования ресурса.</br>

Таким образом, имеем следующие продуктовые метрики:

| Продуктовая метрика              |Значение|
|----------------------------------|--------|
| MAU                              | 16,6М  |
| DAU                              | 500М   |
| Количество действий пользователя | 5-6    |

__Технические метрики__

При загрузке страницы ya.ru инструменты разработчика показали 2 Мб. При поисковой выдачи страница весила 3.5 Мб. Учитывая перемещение пользователя по 3-4 страницам, получим трафик на одного пользователя. Умножив это значение на DAU, получим суммарный суточный трафик. А разделив суточный трафик на количество секунд в дне, получим пиковое потребление.</br>
RPS найдем из примерно аналогичных соображений. Поделим DAU на секунды в дне. Получим RPS.


| Техническая метрика                             |Значение                
|-------------------------------------------------|------------------------
| Пиковое потребление трафика в течении суток     | 2 236 962.1 Гбит/с    
| Суммарный суточный трафик                       | 699 050.7 Гбайт/сутки 
| RPS                                             | 34 722 223 запросов в секунду 



<a id="sorce"></a>

## Используемые источники
1. [Статистика пользователей интернета](https://www.web-canape.ru/business/statistika-interneta-i-socsetej-na-2023-god-cifry-i-trendy-v-mire-i-v-rossii/)
1. [Яндекс инвесторам](https://ir.yandex.ru/)
1. [Яндекс Радар](https://radar.yandex.ru/search?period=all&selected_rows=iHMJ0E%252CvDPqTi%252C8fg2y0%252Ctmkupd%252CMCj1FA)
1. [Be1.ru](https://be1.ru/stat/ya.ru)
1. [SpyMetrics](https://spymetrics.ru/ru/website/ya.ru)